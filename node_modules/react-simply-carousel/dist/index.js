!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("react")):"function"==typeof define&&define.amd?define(["react"],t):(e="undefined"!=typeof globalThis?globalThis:e||self).ReactSimplyCarousel=t(e.React)}(this,(function(e){"use strict";var t=function(){return t=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},t.apply(this,arguments)};function n(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}function i(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,r,o=n.call(e),d=[];try{for(;(void 0===t||t-- >0)&&!(i=o.next()).done;)d.push(i.value)}catch(e){r={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return d}function r(e,t,n){if(n||2===arguments.length)for(var i,r=0,o=t.length;r<o;r++)!i&&r in t||(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}return e.memo((function(o){var d,l,s=o.responsiveProps,c=void 0===s?[]:s,a=n(o,["responsiveProps"]),u=i(e.useState(0),2),v=u[0],f=u[1],m=i(e.useState(a.activeSlideIndex),2),h=m[0],p=m[1],b=e.useRef(null),y=e.useRef(null),w=e.useRef(null),x=e.useRef(!1),S=e.useRef(0),E=e.useRef(!1),g=e.useRef(""),T=e.useRef(null),C=e.useRef(null),L=e.useRef(0),k=e.useRef(h),I=c.reduce((function(e,i){void 0===i&&(i={});var r=i.minWidth,o=void 0===r?0:r,d=i.maxWidth,l=void 0===d?null:d,s=n(i,["minWidth","maxWidth"]);return v>o&&(!l||v<=l)?t(t({},e),s):e}),a),M=e.Children.toArray(I.children),W=v?t(t({},I),{activeSlideIndex:Math.max(0,Math.min(I.activeSlideIndex,M.length-1)),itemsToShow:Math.min(M.length,I.itemsToShow||0),itemsToScroll:Math.min(M.length,I.itemsToScroll||1)}):a,P=W.containerProps,R=void 0===P?{}:P,O=R.style,X=void 0===O?{}:O,A=n(R,["style"]),N=W.innerProps,F=void 0===N?{}:N,V=F.style,j=void 0===V?{}:V,z=n(F,["style"]),B=W.itemsListProps,D=void 0===B?{}:B,q=D.style,H=void 0===q?{}:q,G=D.onTransitionEnd,J=void 0===G?void 0:G,K=n(D,["style","onTransitionEnd"]),Q=W.backwardBtnProps,U=void 0===Q?{}:Q,Y=U.children,Z=void 0===Y?null:Y,$=U.show,_=void 0===$||$,ee=n(U,["children","show"]),te=W.forwardBtnProps,ne=void 0===te?{}:te,ie=ne.children,re=void 0===ie?null:ie,oe=ne.show,de=void 0===oe||oe,le=n(ne,["children","show"]),se=W.activeSlideProps,ce=void 0===se?{}:se,ae=ce.className,ue=void 0===ae?"":ae,ve=ce.style,fe=void 0===ve?{}:ve,me=n(ce,["className","style"]),he=W.visibleSlideProps,pe=void 0===he?{}:he,be=pe.className,ye=void 0===be?"":be,we=pe.style,xe=void 0===we?{}:we,Se=n(pe,["className","style"]),Ee=W.updateOnItemClick,ge=void 0!==Ee&&Ee,Te=W.activeSlideIndex,Ce=W.onRequestChange,Le=W.speed,ke=void 0===Le?0:Le,Ie=W.delay,Me=void 0===Ie?0:Ie,We=W.easing,Pe=void 0===We?"linear":We,Re=W.itemsToShow,Oe=void 0===Re?0:Re,Xe=W.itemsToScroll,Ae=void 0===Xe?1:Xe,Ne=W.children,Fe=W.onAfterChange,Ve=W.autoplay,je=void 0!==Ve&&Ve,ze=W.autoplayDirection,Be=void 0===ze?"forward":ze,De=W.disableNavIfAllVisible,qe=void 0===De||De,He=W.hideNavIfAllVisible,Ge=void 0===He||He,Je=W.centerMode,Ke=void 0!==Je&&Je,Qe=W.infinite,Ue=void 0===Qe||Qe,Ye=W.disableNavIfEdgeVisible,Ze=void 0===Ye||Ye,$e=W.disableNavIfEdgeActive,_e=void 0===$e||$e,et=W.dotsNav,tt=void 0===et?{}:et,nt=W.persistentChangeCallbacks,it=void 0!==nt&&nt,rt=W.autoplayDelay,ot=void 0===rt?0:rt,dt=W.preventScrollOnSwipe,lt=void 0!==dt&&dt,st=W.disableSwipeByMouse,ct=void 0!==st&&st,at=W.disableSwipeByTouch,ut=void 0!==at&&at,vt=W.touchSwipeTreshold,ft=W.mouseSwipeTreshold,mt=W.swipeTreshold,ht=W.touchSwipeRatio,pt=W.mouseSwipeRatio,bt=W.swipeRatio,yt=void 0===bt?1:bt,wt=tt||{},xt=wt.show,St=void 0!==xt&&xt,Et=wt.containerProps,gt=void 0===Et?{}:Et,Tt=wt.itemBtnProps,Ct=void 0===Tt?{}:Tt,Lt=wt.activeItemBtnProps,kt=void 0===Lt?{}:Lt,It=e.Children.count(Ne)-1,Mt=!!v&&(null===(d=y.current)||void 0===d?void 0:d.offsetWidth)>=(null===(l=w.current)||void 0===l?void 0:l.offsetWidth),Wt=Ge&&Mt,Pt=qe&&Mt,Rt=Te-h==0||!ke&&!Me?"none":"transform ".concat(ke,"ms ").concat(Pe," ").concat(Me,"ms"),Ot=e.useCallback((function(e){var t,n=e.correctionSlideIndex,o=e.prevCorrectionSlideIndex,d=e.curActiveSlideIndex,l=w.current.offsetWidth,s=w.current.children,c=s.length,a=Ue?r([],i(s),!1).slice(c/3-o,c/3-o+c/3):r([],i(s),!1),u=null===(t=a[d])||void 0===t?void 0:t.offsetWidth,v=Oe?a.reduce((function(e,t,n){return n>=d&&n<d+Oe||n<d&&n<d+Oe-a.length?e+t.offsetWidth:e}),0):y.current.offsetWidth,f=Math.min(v,y.current.offsetWidth),m=l-f,h=Ke&&Ue?-(f-u)/2:0,p=Ue?l/3:0,b=n-d==0?0:"forward"===g.current&&d<n?p:"backward"===g.current&&d>n?-p:0,x=d-n!=0,S=function(e){var t=a.reduce((function(t,n,i){return i>=e?t:t+(n.offsetWidth||0)}),0);return Ue?t:Math.min(m,t)},E=x&&Ue?S(n):0,T=x||!Ue?S(d):0,C=Pt?0:T-E+h+b+p,L="translateX(-".concat(C,"px)"),k=Ue?p+h:Math.min(m,a.reduce((function(e,t,n){return n<d?e+t.offsetWidth:e}),0)),I=k+f,M=a.map((function(e,t){return{slideIndex:t,htmlElement:e}})),W=Ue?r(r(r(r([],i(a.slice(d).map((function(e,t){return{slideIndex:t+d,htmlElement:e}}))),!1),i(M),!1),i(M),!1),i(a.slice(0,d).map((function(e,t){return{slideIndex:t,htmlElement:e}}))),!1):M,P=W.reduce((function(e,t){var n=t.slideIndex,i=t.htmlElement.offsetWidth;return(e.summ>=k&&e.summ<I||e.summ+i>k&&e.summ+i<=I)&&e.items.push({slideIndex:n,isFullyVisible:e.summ+i<=I&&e.summ>=k}),e.summ+=i,e}),{summ:0,items:[]}),R=!!P.items.find((function(e){return 0===e.slideIndex})),O=!!P.items.find((function(e){return e.slideIndex===a.length-1}));return{slidesHTMLElements:a,innerMaxWidth:v,itemsListMaxTranslateX:m,activeSlideWidth:u,offsetCorrectionForCenterMode:h,offsetCorrectionForInfiniteMode:p,itemsListTranslateX:C,itemsListTransform:L,visibleSlides:P.items,isFirstSlideVisible:R,isLastSlideVisible:O}}),[Ke,Pt,Ue,Oe]),Xt=v?Ot({prevCorrectionSlideIndex:k.current,curActiveSlideIndex:Te,correctionSlideIndex:h}):{},At=Xt.innerMaxWidth,Nt=void 0===At?0:At,Ft=Xt.itemsListMaxTranslateX,Vt=void 0===Ft?0:Ft,jt=Xt.activeSlideWidth,zt=void 0===jt?0:jt,Bt=Xt.offsetCorrectionForCenterMode,Dt=void 0===Bt?0:Bt,qt=Xt.offsetCorrectionForInfiniteMode,Ht=void 0===qt?0:qt,Gt=Xt.itemsListTranslateX,Jt=void 0===Gt?0:Gt,Kt=Xt.itemsListTransform,Qt=void 0===Kt?"none":Kt,Ut=Xt.visibleSlides,Yt=void 0===Ut?[]:Ut,Zt=e.useCallback((function(e){var t;return"forward"===e?(t=Te+Ae)>It?Ue?t-It-1:It:t:"backward"===e?(t=Te-Ae)<0?Ue?It+1+t:0:t:Te}),[Te,Ae,It,Ue]),$t=e.useCallback((function(e,t){var n;if(g.current=t,w.current.style.transition=ke||Me?"transform ".concat(ke,"ms ").concat(Pe," ").concat(Me,"ms"):"none",e!==Te||it){clearTimeout(T.current);var i=Ot({correctionSlideIndex:h,prevCorrectionSlideIndex:h,curActiveSlideIndex:e}),r=i.visibleSlides,o=i.isFirstSlideVisible,d=i.isLastSlideVisible,l=i.itemsListTransform;e!==Te&&(null===(n=w.current)||void 0===n?void 0:n.style.transform)===l&&(x.current=!0),w.current.style.transform=l,Ce(e,{visibleSlides:r,isFirstSlideVisible:o,isLastSlideVisible:d})}else w.current.style.transform="translateX(-".concat(Dt+Ht+(Ue?0:Jt),"px)")}),[it,Te,Dt,Me,Pe,ke,Ce,Ht,Ue,Jt,h,Ot]),_t=e.useCallback((function(){je&&(clearTimeout(T.current),T.current=setTimeout((function(){$t(Zt(Be),Be)}),ot||Me))}),[je,Be,ot,$t,Zt,Me]),en=e.useCallback((function(){$t(Zt("backward"),"backward")}),[$t,Zt]),tn=e.useCallback((function(e){p(Te),J&&J(e)}),[Te,J]),nn=e.useCallback((function(){$t(Zt("forward"),"forward")}),[$t,Zt]),rn=function(e,i,r){return e.map((function(e,o){var d=e.props,l=void 0===d?{}:d,s=l.className,c=void 0===s?"":s,a=l.onClick,u=void 0===a?null:a,v=l.style,f=void 0===v?{}:v,m=n(l,["className","onClick","style"]),h=n(e,["props"]),p=Ue?L.current>=M.length?"forward":"backward":o>=Te?"forward":"backward",b=o+i===Te,y=Yt.find((function(e){return e.slideIndex===o+i})),w="".concat(c," ").concat(b?ue:""," ").concat(y?ye:"").trim()||void 0,x=t(t(t(t({},f),y?xe:{}),b?fe:{}),{boxSizing:"border-box",margin:0}),S=!r&&ge?function(e){var t=e.direction,n=e.index,i=e.onClick;return function(e){$t(n,t||(Te<n?"forward":"")||(Te>n?"backward":"")),i&&i(e)}}({direction:p,index:o+i,onClick:u}):u,E=t(t(t({role:"tabpanel",className:w,style:x,onClick:S},m),y?Se:{}),b?me:{});return L.current+=1,t({props:E},h)}))};return e.useEffect((function(){var e=w.current;function t(e){e.preventDefault(),e.stopPropagation()}function n(e){var t,n;E.current=!0;var i=!!(null===(t=e.touches)||void 0===t?void 0:t[0]),r=i?null===(n=e.touches)||void 0===n?void 0:n[0].clientX:e.clientX,o=(S.current-r)*((i?ht:pt)||yt)+Dt+Ht+(Ue?0:Jt),d=w.current.offsetWidth,l=Math.max(-o,-d);w.current.style.transition="none",w.current.style.transform="translateX(".concat(l,"px)")}function i(e){var r,o,d;if(document.removeEventListener("mousemove",n),document.removeEventListener("mouseup",i),document.removeEventListener("touchmove",n),document.removeEventListener("touchend",i),E.current){null===(r=e.target)||void 0===r||r.addEventListener("click",t);var l=!!(null===(o=e.changedTouches)||void 0===o?void 0:o[0]),s=l?e.changedTouches[e.changedTouches.length-1].clientX:e.clientX,c=(S.current-s)*((l?ht:pt)||yt),a=(l?vt:ft)||mt||zt/2,u=c>a?{index:Zt("forward"),direction:"forward"}:c<-a?{index:Zt("backward"),direction:"backward"}:{index:Te,direction:"forward"};$t(u.index,u.direction)}else null===(d=e.target)||void 0===d||d.removeEventListener("click",t);S.current=0,E.current=!1}function r(e){var t,r;clearTimeout(T.current);var o=!!(null===(t=e.touches)||void 0===t?void 0:t[0]);S.current=o?null===(r=e.touches)||void 0===r?void 0:r[0].clientX:e.clientX,o?(document.addEventListener("touchmove",n),document.addEventListener("touchend",i)):(document.addEventListener("mousemove",n),document.addEventListener("mouseup",i))}return Pt||(ct||null==e||e.addEventListener("mousedown",r),ut||null==e||e.addEventListener("touchstart",r,{passive:!0}),ct&&ut||null==e||e.addEventListener("dragstart",i)),function(){E.current=!1,S.current=0,null==e||e.removeEventListener("mousedown",r),null==e||e.removeEventListener("touchstart",r),null==e||e.removeEventListener("dragstart",i),document.removeEventListener("mousemove",n),document.removeEventListener("mouseup",i),document.removeEventListener("touchmove",n),document.removeEventListener("touchend",i)}}),[Ue,Jt,Qt,Dt,Ht,Te,zt,Zt,$t,Pt,ct,ut,vt,ft,mt,ht,pt,yt]),e.useEffect((function(){return Te!==h?(!ke&&!Me||x.current)&&(x.current=!1,p(Te)):(Fe&&Fe(Te,h),(Ue||"forward"===Be&&Te!==It||"backward"===Be&&0!==Te)&&_t()),function(){clearTimeout(T.current)}}),[h,Te,Fe,ke,Me,_t,Ue,It,Be]),e.useEffect((function(){return v&&_t(),function(){clearTimeout(T.current)}}),[v]),e.useEffect((function(){function e(){clearTimeout(C.current),clearTimeout(T.current),C.current=setTimeout((function(){v!==window.innerWidth&&f(0)}),400)}return v!==window.innerWidth&&f(window.innerWidth),window.addEventListener("resize",e),function(){clearTimeout(C.current),window.removeEventListener("resize",e)}}),[v]),L.current=0,k.current=h,e.createElement("div",t({style:t({display:"flex",flexFlow:"row wrap",boxSizing:"border-box",justifyContent:"center",width:"100%"},X)},A,{ref:b}),_&&!Wt&&e.createElement("button",t({},ee,{type:"button",onClick:(0===Jt&&Ze||0===Te&&_e)&&!Ue?void 0:en,disabled:"boolean"==typeof ee.disabled?ee.disabled:!(!(0===Jt&&Ze||0===Te&&_e)||Ue)}),Z),e.createElement("div",t({},z,{style:t(t({width:"100%"},j),{display:"flex",boxSizing:"border-box",flexFlow:"row wrap",padding:"0",overflow:"hidden",maxWidth:Nt?"".concat(Nt,"px"):void 0,flex:Nt?void 0:"1 0 auto"}),ref:y}),e.createElement("div",t({},K,{style:t(t({},H),{display:"flex",boxSizing:"border-box",outline:"none",transition:Rt,transform:Qt,touchAction:lt?"none":"auto"}),onTransitionEnd:ke||Me?tn:J,tabIndex:-1,role:"presentation",ref:w}),Ue&&rn(M.slice(h),h,Pt),rn(M,0,Pt),Ue&&rn(M,0,Pt),Ue&&rn(M.slice(0,h),0,Pt))),de&&!Wt&&e.createElement("button",t({},le,{type:"button",onClick:(Jt===Vt&&Ze||Te===It&&_e)&&!Ue?void 0:nn,disabled:"boolean"==typeof le.disabled?le.disabled:!(!(Jt===Vt&&Ze||Te===It&&_e)||Ue)}),re),!!St&&e.createElement("div",t({style:{width:"100%",display:"flex",justifyContent:"center"}},gt),Array.from({length:Math.ceil(M.length/Ae)}).map((function(n,i){return e.createElement("button",t({type:"button",key:i,title:"".concat(i)},Ct,Te>=i*Ae&&Te<Math.min(Ae*(i+1),It+1)?kt:{},{onClick:function(){$t(Math.min(i*Ae,M.length-1),Math.min(i*Ae,M.length-1)>Te?"forward":"backward")}}))}))))}))}));
