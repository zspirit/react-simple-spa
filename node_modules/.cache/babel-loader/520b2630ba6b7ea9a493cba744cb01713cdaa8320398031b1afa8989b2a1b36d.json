{"ast":null,"code":"var _jsxFileName = \"/home/zak/Desktop/testing/pythonProject9/Django-React-authentification-main/FRONTEND/src/Components/Login.js\",\n  _s = $RefreshSig$();\n// in this components you will ablr to do LOGIN and display the data of this user\n\nimport React, { useEffect, useState, useContext } from \"react\";\nimport axios from \"axios\";\nimport { TokenContext } from \"../Context/TokenContext\";\nimport { Link } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Login = () => {\n  _s();\n  const {\n    token,\n    setToken\n  } = useContext(TokenContext);\n\n  // connect to server\n  const SERVER = \"http://127.0.0.1:8000/app/\";\n\n  // use state for user details for login\n  const [username, setuname] = useState(\"\");\n  const [password, setpassword] = useState(\"\");\n\n  // usestate that point if the user is connect or not\n  const [logged, setlogged] = useState(false);\n\n  // usestate to display message when the user do login \n  const [msg, setmsg] = useState(\"---\");\n\n  // func to make login\n  const login = () => {\n    axios.post(SERVER + \"login\", {\n      username,\n      password\n    }).then(res => setToken(res.data.access));\n  };\n\n  // use Effect to change from unlogged to logged mood (after the token approved)\n  useEffect(() => {\n    if (token) setlogged(true);\n  }, [token]);\n\n  // use Effect : when the user change just then change the msg (that appear at the welcome..)\n  useEffect(() => {\n    if (token) setmsg(username);\n  }, [token]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n      style: {\n        textAlign: \"center\"\n      },\n      children: \" Login:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }, this), logged && 'Welcome Mr.' + msg + \" - You are logged in !!\", /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 72\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        width: \"50%\",\n        margin: \"0 auto\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"form-control\",\n        placeholder: \"Name\",\n        onChange: e => setuname(e.target.value),\n        type: \"text\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 124\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"form-control\",\n        placeholder: \"Password\",\n        onChange: e => setpassword(e.target.value),\n        type: \"password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 135\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-primary\",\n        onClick: () => login(),\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 17\n      }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 92\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 97\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n      children: \"Dont have an user? \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Link, {\n      to: \"/Register\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-primary\",\n        children: \"sign up\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 9\n  }, this);\n};\n_s(Login, \"0v/gnOEI8yXditZOznQu9uZagBM=\");\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useEffect","useState","useContext","axios","TokenContext","Link","jsxDEV","_jsxDEV","Login","_s","token","setToken","SERVER","username","setuname","password","setpassword","logged","setlogged","msg","setmsg","login","post","then","res","data","access","children","style","textAlign","fileName","_jsxFileName","lineNumber","columnNumber","width","margin","className","placeholder","onChange","e","target","value","type","onClick","to","_c","$RefreshReg$"],"sources":["/home/zak/Desktop/testing/pythonProject9/Django-React-authentification-main/FRONTEND/src/Components/Login.js"],"sourcesContent":["// in this components you will ablr to do LOGIN and display the data of this user\n\nimport React, { useEffect, useState , useContext} from \"react\";\nimport axios from \"axios\";\nimport { TokenContext } from \"../Context/TokenContext\";\nimport {Link} from \"react-router-dom\";\n\nconst Login = () => {\n\n    const {token, setToken} = useContext(TokenContext);\n\n    // connect to server\n    const SERVER = \"http://127.0.0.1:8000/app/\";\n\n    // use state for user details for login\n    const [username, setuname] = useState(\"\")\n    const [password, setpassword] = useState(\"\")\n  \n    // usestate that point if the user is connect or not\n    const [logged, setlogged] = useState(false)\n\n    // usestate to display message when the user do login \n    const [msg, setmsg] = useState(\"---\")\n\n    // func to make login\n    const login = () => {\n        axios.post(SERVER + \"login\", { username, password })\n            .then((res) => setToken(res.data.access));\n    };\n   \n\n    // use Effect to change from unlogged to logged mood (after the token approved)\n    useEffect(() => {\n        if (token)\n            setlogged(true)\n    }, [token]);\n\n      // use Effect : when the user change just then change the msg (that appear at the welcome..)\n    useEffect(() => {\n        if (token) setmsg(username);\n    }, [token]);\n   \n    return (\n        <div>\n            <h4 style={{textAlign: \"center\"}}> Login:</h4>\n            {logged && 'Welcome Mr.' + msg + \" - You are logged in !!\"}<hr></hr>\n            <div style={{width: \"50%\" , margin: \"0 auto\"}}>\n                <input className=\"form-control\" placeholder=\"Name\" onChange={(e) => setuname(e.target.value)} type=\"text\"/><br/>\n                <input className=\"form-control\" placeholder=\"Password\" onChange={(e) => setpassword(e.target.value)} type=\"password\"/><br/>\n                <button className=\"btn btn-primary\" onClick={() => login()}>Login</button> <br/><br/>\n            </div>\n\n            <h4>Dont have an user? </h4>\n            <Link to=\"/Register\"> \n          <button className=\"btn btn-primary\">sign up</button>\n        </Link>\n           \n           \n        </div>\n    );\n};\n\nexport default Login;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}